{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nathalienordstrom/Desktop/GroApp/GroApp/frontend/components/LoginForm.js\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\ncolor: white;\\nfont-size: 50px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\nalign-items: center;\\nborder: black solid 1px;\\nmargin-left: 20px;\\nmargin-right: 20px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\nmargin-left: 50px;\\nmargin-right: 50px;\\nborder: black solid 1px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\nbackground-color: red;\\nflex:1;\\njustify-content: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport LogIn from \"./LogIn\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { user } from \"../reducers/user\";\nimport styled from 'styled-components/native';\nimport { Ionicons } from '@expo/vector-icons';\nvar SIGNUP_URL = \"http://localhost:8080/users\";\nvar LOGIN_URL = \"http://localhost:8080/sessions\";\nexport var LoginForm = function LoginForm() {\n  var dispatch = useDispatch();\n  var accessToken = useSelector(function (store) {\n    return store.user.login.accessToken;\n  });\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var handleLoginSuccess = function handleLoginSuccess(loginResponse) {\n    dispatch(user.actions.setAccessToken({\n      accessToken: loginResponse.accessToken\n    }));\n    dispatch(user.actions.setUserId({\n      userId: loginResponse.userId\n    }));\n    dispatch(user.actions.setStatusMessage({\n      statusMessage: 'Login Success'\n    }));\n  };\n\n  var handleLoginFailed = function handleLoginFailed(loginError) {\n    dispatch(user.actions.setAccessToken({\n      accessToken: null\n    }));\n    dispatch(user.actions.setStatusMessage({\n      statusMessage: loginError\n    }));\n  };\n\n  var handleSignup = function handleSignup(event) {\n    event.preventDefault();\n    fetch(SIGNUP_URL, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: name,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return handleLoginSuccess(json);\n    }).catch(function (err) {\n      return handleLoginFailed(err);\n    });\n  };\n\n  var handleLogin = function handleLogin(event) {\n    event.preventDefault();\n    fetch(LOGIN_URL, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: name,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return handleLoginSuccess(json);\n    }).catch(function (err) {\n      return handleLoginFailed(err);\n    });\n  };\n\n  if (!accessToken) {\n    return React.createElement(Main, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, React.createElement(Container, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 10\n      }\n    }, React.createElement(LogIn, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), React.createElement(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, React.createElement(FormHeader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Sign up\"), React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      required: true,\n      value: name,\n      placeholder: \"<Ionicons name=\\\"person\\\" size={24} color=\\\"black\\\"\",\n      onChange: function onChange(event) {\n        return setName(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    })), React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"password\", React.createElement(\"input\", {\n      required: true,\n      value: password,\n      placeholder: \"l\\xF6rsenord\",\n      onChange: function onChange(event) {\n        return setPassword(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: handleSignup,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"Sign-Up\"), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: handleLogin,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"Login\"))));\n  } else {\n    return React.createElement(Profile, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 12\n      }\n    });\n  }\n};\nvar Main = styled.View(_templateObject());\nvar Container = styled.View(_templateObject2());\nvar Form = styled.View(_templateObject3());\nvar FormHeader = styled.Text(_templateObject4());\nexport default LoginForm;","map":{"version":3,"sources":["/Users/nathalienordstrom/Desktop/GroApp/GroApp/frontend/components/LoginForm.js"],"names":["React","useState","LogIn","useDispatch","useSelector","user","styled","Ionicons","SIGNUP_URL","LOGIN_URL","LoginForm","dispatch","accessToken","store","login","name","setName","password","setPassword","handleLoginSuccess","loginResponse","actions","setAccessToken","setUserId","userId","setStatusMessage","statusMessage","handleLoginFailed","loginError","handleSignup","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","catch","err","handleLogin","target","value","Main","View","Container","Form","FormHeader","Text"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport LogIn from \"./LogIn\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { user } from \"../reducers/user\";\nimport styled from 'styled-components/native';\n\nimport { Ionicons } from '@expo/vector-icons';\n\n\nconst SIGNUP_URL = \"http://localhost:8080/users\";\nconst LOGIN_URL = \"http://localhost:8080/sessions\";\n\nexport const LoginForm = () => {\n  const dispatch = useDispatch();\n  const accessToken = useSelector((store) => store.user.login.accessToken);\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLoginSuccess = (loginResponse) => {\n    dispatch(\n      user.actions.setAccessToken({accessToken: loginResponse.accessToken})\n    );\n    dispatch(user.actions.setUserId({userId: loginResponse.userId}));\n    dispatch(user.actions.setStatusMessage({statusMessage: 'Login Success' }));\n\n  };\n\n  const handleLoginFailed = (loginError) => {\n    dispatch(user.actions.setAccessToken({accessToken: null }));\n    dispatch(user.actions.setStatusMessage({ statusMessage: loginError }));\n\n  };\n\n  // To sign up a user.\n  const handleSignup = (event) => {\n    event.preventDefault();\n\n    fetch(SIGNUP_URL, {\n      method: \"POST\",\n      body: JSON.stringify({ name, password }),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((res) => res.json())\n      .then((json) => handleLoginSuccess(json))\n      .catch((err) => handleLoginFailed(err));\n  };\n\n  // To sign up a user.\n  const handleLogin = (event) => {\n    event.preventDefault();\n\n    fetch(LOGIN_URL, {\n      method: \"POST\",\n      body: JSON.stringify({ name, password }),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((res) => res.json())\n      .then((json) => handleLoginSuccess(json))\n      .catch((err) => handleLoginFailed(err));\n  };\n\n  if (!accessToken) {\n    // If user is logged out, show login form\n    return (\n      <Main>\n         <Container>\n        <LogIn />\n        <Form>\n          <FormHeader>Sign up</FormHeader>\n          <label>\n            <input\n              required\n              value={name}\n              placeholder='<Ionicons name=\"person\" size={24} color=\"black\"'\n              onChange={(event) => setName(event.target.value)}\n            />\n          </label>\n          <label>\n            password\n            <input\n              required\n              value={password}\n              placeholder='lörsenord'\n              onChange={(event) => setPassword(event.target.value)}\n            />\n          </label>\n          <button type=\"submit\" onClick={handleSignup}>\n            Sign-Up\n          </button>\n          <button type=\"submit\" onClick={handleLogin}>\n            Login\n          </button> \n        \n\n          </Form>\n        </Container>\n      </Main>\n    );\n  } else {\n    // If user is logged in, show profile\n    return <Profile />;\n  }\n};\n\nconst Main = styled.View`\nbackground-color: red;\nflex:1;\njustify-content: center;\n`\n\nconst Container = styled.View`\nmargin-left: 50px;\nmargin-right: 50px;\nborder: black solid 1px;\n`\n\nconst Form = styled.View`\nalign-items: center;\nborder: black solid 1px;\nmargin-left: 20px;\nmargin-right: 20px;\n`\nconst FormHeader = styled.Text`\ncolor: white;\nfont-size: 50px;\n`\n\n\n\n\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}