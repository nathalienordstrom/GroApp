{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nathalienordstrom/Desktop/GroApp/GroApp/frontend/components/LoginForm.js\";\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteralLoose([\"\\nflex-direction: row;\\nmargin-top: 20px;\\n\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteralLoose([\"\\nflex-direction:row;\\nborder:#D2D09D solid 1px;\\nborder-radius: 50px;\\npadding: 10px;\\nwidth: 100%;\\nmargin-bottom: 20px;\\n\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfont-size: 20px;\\npadding-left: 20px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteralLoose([\"\\nalign-items: center;\\nmargin-top: 30px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteralLoose([\"\\nborder: solid 1px red;\\npadding: 10px;\\n\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfont-size: 30px;\\ncolor:  #D2D09D; \\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteralLoose([\"\\nalign-items:center;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteralLoose([\"\\nflex-direction: row;\\njustify-content:center;\\nalign-items: center;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\nmargin-left: 50px;\\nmargin-right: 50px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\njustify-content: center;\\nflex:1;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\npadding-top: 50px;\\nmargin-left: 20px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\nbackground-color: white;\\nflex:1;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { user } from \"../reducers/user\";\nimport styled from 'styled-components/native';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AnimatedInput from 'react-native-animated-input';\nimport Photo from \"../assets/Dokumentlayout3.jpg\";\nimport LogIn from \"./LogIn\";\nimport Profile from \"./Profile\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { EvilIcons } from '@expo/vector-icons';\nvar LOGIN_URL = \"http://localhost:8080/sessions\";\nvar SIGNUP_URL = \"http://localhost:8080/users\";\nexport var LoginForm = function LoginForm(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = useDispatch();\n  var accessToken = useSelector(function (store) {\n    return store.user.login.accessToken;\n  });\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isValid = _useState6[0],\n      setIsValid = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      names = _useState8[0],\n      setNames = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      pass = _useState10[0],\n      setPass = _useState10[1];\n\n  var handleLoginSuccess = function handleLoginSuccess(loginResponse) {\n    dispatch(user.actions.setAccessToken({\n      accessToken: loginResponse.accessToken\n    }));\n    dispatch(user.actions.setUserId({\n      userId: loginResponse.userId\n    }));\n    dispatch(user.actions.setStatusMessage({\n      statusMessage: 'Fel namnn eller l√∂senord'\n    }));\n  };\n\n  var handleLoginFailed = function handleLoginFailed(loginError) {\n    dispatch(user.actions.setAccessToken({\n      accessToken: null\n    }));\n    dispatch(user.actions.setStatusMessage({\n      statusMessage: loginError\n    }));\n  };\n\n  var handleSignup = function handleSignup(event) {\n    event.preventDefault();\n    fetch(SIGNUP_URL, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: name,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return handleLoginSuccess(json);\n    }).catch(function (err) {\n      return handleLoginFailed(err);\n    });\n  };\n\n  var handleLogin = function handleLogin(event) {\n    event.preventDefault();\n    fetch(LOGIN_URL, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: name,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return handleLoginSuccess(json);\n    }).catch(function (err) {\n      return handleLoginFailed(err);\n    });\n  };\n\n  if (!accessToken) {\n    return React.createElement(Main, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, React.createElement(Icon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('HomePage');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, React.createElement(Ionicons, {\n      name: \"arrow-back-circle-outline\",\n      size: 50,\n      color: \"#D2D09D\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }))), React.createElement(MainContainer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, React.createElement(Container, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, React.createElement(LoginBox, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, React.createElement(AppleIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, React.createElement(MaterialCommunityIcons, {\n      name: \"food-apple-outline\",\n      size: 40,\n      color: \"#BD614E\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    })), React.createElement(LoginText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, \"Logga in\")), React.createElement(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, React.createElement(FormInput, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, React.createElement(Ionicons, {\n      name: \"person\",\n      size: 24,\n      color: \"#BD614E\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), React.createElement(Input, {\n      required: true,\n      value: name,\n      placeholder: \"namn\",\n      onChange: function onChange(event) {\n        return setName(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    })), React.createElement(FormInput, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, React.createElement(FontAwesome, {\n      name: \"key\",\n      size: 24,\n      color: \"#BD614E\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }), React.createElement(Input, {\n      value: password,\n      required: true,\n      placeholder: \"l\\xF6rsenord\",\n      onChange: function onChange(event) {\n        return setPassword(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    })), React.createElement(FormInput, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, React.createElement(FontAwesome, {\n      name: \"key\",\n      size: 24,\n      color: \"#BD614E\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }), React.createElement(Input, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, React.createElement(AnimatedInput, {\n      placeholder: \"Namn\",\n      valid: isValid,\n      errorText: \"Error\",\n      onChangeText: function onChangeText(text) {\n        return setNames(text);\n      },\n      value: names,\n      styleLabel: {\n        fontWeight: '600'\n      },\n      styleBodyContent: styles.bodyContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }), React.createElement(AnimatedInput, {\n      placeholder: \"PasswordL\\xF6se\",\n      valid: isValid,\n      errorText: \"Error\",\n      onChangeText: function onChangeText(text) {\n        return setPass(text);\n      },\n      value: pass,\n      styleLabel: {\n        fontWeight: '600'\n      },\n      styleBodyContent: styles.bodyContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 23\n      }\n    }))), React.createElement(Buttons, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: handleLogin,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      style: styles.button,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, React.createElement(EvilIcons, {\n      name: \"arrow-right\",\n      size: 80,\n      color: \"#BD614E\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    })))), React.createElement(LogIn, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }), React.createElement(Image, {\n      source: Photo,\n      style: styles.image,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    })))));\n  } else {\n    return React.createElement(Profile, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 16\n      }\n    });\n  }\n};\nvar styles = StyleSheet.create({\n  image: {\n    marginTop: 100,\n    width: 400,\n    height: 150\n  }\n});\nvar Main = styled.View(_templateObject());\nvar Icon = styled.View(_templateObject2());\nvar MainContainer = styled.View(_templateObject3());\nvar Container = styled.View(_templateObject4());\nvar LoginBox = styled.View(_templateObject5());\nvar AppleIcon = styled.View(_templateObject6());\nvar LoginText = styled.Text(_templateObject7());\nvar Message = styled.View(_templateObject8());\nvar Form = styled.View(_templateObject9());\nvar Input = styled.TextInput(_templateObject10());\nvar FormInput = styled.View(_templateObject11());\nvar Buttons = styled.View(_templateObject12());\nexport default LoginForm;","map":{"version":3,"sources":["/Users/nathalienordstrom/Desktop/GroApp/GroApp/frontend/components/LoginForm.js"],"names":["React","useState","useDispatch","useSelector","user","styled","AnimatedInput","Photo","LogIn","Profile","Ionicons","FontAwesome","MaterialCommunityIcons","EvilIcons","LOGIN_URL","SIGNUP_URL","LoginForm","navigation","dispatch","accessToken","store","login","name","setName","password","setPassword","isValid","setIsValid","names","setNames","pass","setPass","handleLoginSuccess","loginResponse","actions","setAccessToken","setUserId","userId","setStatusMessage","statusMessage","handleLoginFailed","loginError","handleSignup","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","catch","err","handleLogin","navigate","target","value","text","fontWeight","styles","bodyContent","button","image","StyleSheet","create","marginTop","width","height","Main","View","Icon","MainContainer","Container","LoginBox","AppleIcon","LoginText","Text","Message","Form","Input","TextInput","FormInput","Buttons"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,IAAT;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;;;;;;;AAGA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,OAAOC,KAAP;AACA,OAAOC,KAAP;AACA,OAAOC,OAAP;AAEA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,sBAAT,QAAuC,oBAAvC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AAEA,IAAMC,SAAS,GAAG,gCAAlB;AACA,IAAMC,UAAU,GAAG,6BAAnB;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAC3C,MAAMC,QAAQ,GAAGhB,WAAW,EAA5B;AACA,MAAMiB,WAAW,GAAGhB,WAAW,CAAC,UAACiB,KAAD;AAAA,WAAWA,KAAK,CAAChB,IAAN,CAAWiB,KAAX,CAAiBF,WAA5B;AAAA,GAAD,CAA/B;;AAF2C,kBAGnBlB,QAAQ,CAAC,EAAD,CAHW;AAAA;AAAA,MAGpCqB,IAHoC;AAAA,MAG9BC,OAH8B;;AAAA,mBAIXtB,QAAQ,CAAC,EAAD,CAJG;AAAA;AAAA,MAIpCuB,QAJoC;AAAA,MAI1BC,WAJ0B;;AAAA,mBAMbxB,QAAQ,CAAC,IAAD,CANK;AAAA;AAAA,MAMpCyB,OANoC;AAAA,MAM3BC,UAN2B;;AAAA,mBAOjB1B,QAAQ,CAAC,IAAD,CAPS;AAAA;AAAA,MAOpC2B,KAPoC;AAAA,MAO7BC,QAP6B;;AAAA,mBAQnB5B,QAAQ,CAAC,IAAD,CARW;AAAA;AAAA,MAQpC6B,IARoC;AAAA,MAQ9BC,OAR8B;;AAU3C,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,aAAD,EAAmB;AAC5Cf,IAAAA,QAAQ,CACNd,IAAI,CAAC8B,OAAL,CAAaC,cAAb,CAA4B;AAAEhB,MAAAA,WAAW,EAAEc,aAAa,CAACd;AAA7B,KAA5B,CADM,CAAR;AAGAD,IAAAA,QAAQ,CAACd,IAAI,CAAC8B,OAAL,CAAaE,SAAb,CAAuB;AAAEC,MAAAA,MAAM,EAAEJ,aAAa,CAACI;AAAxB,KAAvB,CAAD,CAAR;AACAnB,IAAAA,QAAQ,CAACd,IAAI,CAAC8B,OAAL,CAAaI,gBAAb,CAA8B;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAA9B,CAAD,CAAR;AAED,GAPD;;AASA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,UAAD,EAAgB;AACxCvB,IAAAA,QAAQ,CAACd,IAAI,CAAC8B,OAAL,CAAaC,cAAb,CAA4B;AAAEhB,MAAAA,WAAW,EAAE;AAAf,KAA5B,CAAD,CAAR;AACAD,IAAAA,QAAQ,CAACd,IAAI,CAAC8B,OAAL,CAAaI,gBAAb,CAA8B;AAAEC,MAAAA,aAAa,EAAEE;AAAjB,KAA9B,CAAD,CAAR;AAED,GAJD;;AAOA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AAEAC,IAAAA,KAAK,CAAC9B,UAAD,EAAa;AAChB+B,MAAAA,MAAM,EAAE,MADQ;AAEhBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE3B,QAAAA,IAAI,EAAJA,IAAF;AAAQE,QAAAA,QAAQ,EAARA;AAAR,OAAf,CAFU;AAGhB0B,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHO,KAAb,CAAL,CAKGC,IALH,CAKQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KALR,EAMGF,IANH,CAMQ,UAACE,IAAD;AAAA,aAAUrB,kBAAkB,CAACqB,IAAD,CAA5B;AAAA,KANR,EAOGC,KAPH,CAOS,UAACC,GAAD;AAAA,aAASf,iBAAiB,CAACe,GAAD,CAA1B;AAAA,KAPT;AAQD,GAXD;;AAcA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACb,KAAD,EAAW;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AAEAC,IAAAA,KAAK,CAAC/B,SAAD,EAAY;AACfgC,MAAAA,MAAM,EAAE,MADO;AAEfC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE3B,QAAAA,IAAI,EAAJA,IAAF;AAAQE,QAAAA,QAAQ,EAARA;AAAR,OAAf,CAFS;AAGf0B,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHM,KAAZ,CAAL,CAKGC,IALH,CAKQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KALR,EAMGF,IANH,CAMQ,UAACE,IAAD;AAAA,aAAUrB,kBAAkB,CAACqB,IAAD,CAA5B;AAAA,KANR,EAOGC,KAPH,CAOS,UAACC,GAAD;AAAA,aAASf,iBAAiB,CAACe,GAAD,CAA1B;AAAA,KAPT;AAQD,GAXD;;AAcI,MAAI,CAACpC,WAAL,EAAkB;AAEhB,WACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAMF,UAAU,CAACwC,QAAX,CAAoB,UAApB,CAAN;AAAA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAC,2BAAf;AAA2C,MAAA,IAAI,EAAE,EAAjD;AAAqD,MAAA,KAAK,EAAC,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAHF,EAQE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,sBAAD;AAAwB,MAAA,IAAI,EAAC,oBAA7B;AAAkD,MAAA,IAAI,EAAE,EAAxD;AAA4D,MAAA,KAAK,EAAC,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,CADF,EAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAC,QAAf;AAAwB,MAAA,IAAI,EAAE,EAA9B;AAAkC,MAAA,KAAK,EAAC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AACE,MAAA,QAAQ,MADV;AAEE,MAAA,KAAK,EAAEnC,IAFT;AAGE,MAAA,WAAW,EAAC,MAHd;AAIE,MAAA,QAAQ,EAAE,kBAACqB,KAAD;AAAA,eAAWpB,OAAO,CAACoB,KAAK,CAACe,MAAN,CAAaC,KAAd,CAAlB;AAAA,OAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAUE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAC,KAAlB;AAAwB,MAAA,IAAI,EAAE,EAA9B;AAAkC,MAAA,KAAK,EAAC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AACE,MAAA,KAAK,EAAEnC,QADT;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,WAAW,EAAC,cAHd;AAIE,MAAA,QAAQ,EAAE,kBAACmB,KAAD;AAAA,eAAWlB,WAAW,CAACkB,KAAK,CAACe,MAAN,CAAaC,KAAd,CAAtB;AAAA,OAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVF,EAoBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAC,KAAlB;AAAwB,MAAA,IAAI,EAAE,EAA9B;AAAkC,MAAA,KAAK,EAAC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,aAAD;AACA,MAAA,WAAW,EAAC,MADZ;AAEA,MAAA,KAAK,EAAEjC,OAFP;AAGA,MAAA,SAAS,EAAC,OAHV;AAIA,MAAA,YAAY,EAAE,sBAAAkC,IAAI;AAAA,eAAI/B,QAAQ,CAAC+B,IAAD,CAAZ;AAAA,OAJlB;AAKA,MAAA,KAAK,EAAEhC,KALP;AAMA,MAAA,UAAU,EAAE;AAACiC,QAAAA,UAAU,EAAE;AAAb,OANZ;AAOA,MAAA,gBAAgB,EAAEC,MAAM,CAACC,WAPzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAUE,oBAAC,aAAD;AACE,MAAA,WAAW,EAAC,iBADd;AAEE,MAAA,KAAK,EAAErC,OAFT;AAGE,MAAA,SAAS,EAAC,OAHZ;AAIE,MAAA,YAAY,EAAE,sBAAAkC,IAAI;AAAA,eAAI7B,OAAO,CAAC6B,IAAD,CAAX;AAAA,OAJpB;AAKE,MAAA,KAAK,EAAE9B,IALT;AAME,MAAA,UAAU,EAAE;AAAC+B,QAAAA,UAAU,EAAE;AAAb,OANd;AAOE,MAAA,gBAAgB,EAAEC,MAAM,CAACC,WAP3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CAFF,CApBF,EA2CE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAEP,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEM,MAAM,CAACE,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,aAAhB;AAA8B,MAAA,IAAI,EAAE,EAApC;AAAwC,MAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF,CA3CF,EAqDE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArDF,EAuDE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAEzD,KAAf;AAAsB,MAAA,KAAK,EAAEuD,MAAM,CAACG,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvDF,CAPF,CADF,CARF,CADF;AA8ED,GAhFD,MAgFO;AAEL,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;AACF,CA1IE;AA4IH,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;AAC/BF,EAAAA,KAAK,EAAE;AACLG,IAAAA,SAAS,EAAE,GADN;AAELC,IAAAA,KAAK,EAAE,GAFF;AAGLC,IAAAA,MAAM,EAAE;AAHH;AADwB,CAAlB,CAAf;AASA,IAAMC,IAAI,GAAGlE,MAAM,CAACmE,IAAV,mBAAV;AAKA,IAAMC,IAAI,GAAGpE,MAAM,CAACmE,IAAV,oBAAV;AAIA,IAAME,aAAa,GAAGrE,MAAM,CAACmE,IAAV,oBAAnB;AAKA,IAAMG,SAAS,GAAGtE,MAAM,CAACmE,IAAV,oBAAf;AAKA,IAAMI,QAAQ,GAAGvE,MAAM,CAACmE,IAAV,oBAAd;AAMA,IAAMK,SAAS,GAAGxE,MAAM,CAACmE,IAAV,oBAAf;AAIA,IAAMM,SAAS,GAAGzE,MAAM,CAAC0E,IAAV,oBAAf;AAIA,IAAMC,OAAO,GAAG3E,MAAM,CAACmE,IAAV,oBAAb;AAMA,IAAMS,IAAI,GAAG5E,MAAM,CAACmE,IAAV,oBAAV;AAKA,IAAMU,KAAK,GAAG7E,MAAM,CAAC8E,SAAV,qBAAX;AAMA,IAAMC,SAAS,GAAG/E,MAAM,CAACmE,IAAV,qBAAf;AAUA,IAAMa,OAAO,GAAGhF,MAAM,CAACmE,IAAV,qBAAb;AASA,eAAexD,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { user } from \"../reducers/user\";\nimport styled from 'styled-components/native';\nimport { FlatList, StyleSheet, View, Alert, Image, TouchableOpacity, Text } from 'react-native';\n\nimport AnimatedInput from 'react-native-animated-input';\n\nimport Photo from '../assets/Dokumentlayout3.jpg';\nimport LogIn from './LogIn';\nimport Profile from './Profile'\n\nimport { Ionicons } from '@expo/vector-icons';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { EvilIcons } from '@expo/vector-icons';\n\nconst LOGIN_URL = \"http://localhost:8080/sessions\";\nconst SIGNUP_URL = \"http://localhost:8080/users\";\n\nexport const LoginForm = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const accessToken = useSelector((store) => store.user.login.accessToken);\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [isValid, setIsValid] = useState(true);\n  const [names, setNames] = useState(null);\n  const [pass, setPass] = useState(null);\n\n  const handleLoginSuccess = (loginResponse) => {\n    dispatch(\n      user.actions.setAccessToken({ accessToken: loginResponse.accessToken })\n    );\n    dispatch(user.actions.setUserId({ userId: loginResponse.userId }));\n    dispatch(user.actions.setStatusMessage({ statusMessage: 'Fel namnn eller l√∂senord' }));\n\n  };\n\n  const handleLoginFailed = (loginError) => {\n    dispatch(user.actions.setAccessToken({ accessToken: null }));\n    dispatch(user.actions.setStatusMessage({ statusMessage: loginError }));\n\n  };\n\n  // To sign up a user.\n  const handleSignup = (event) => {\n    event.preventDefault();\n\n    fetch(SIGNUP_URL, {\n      method: \"POST\",\n      body: JSON.stringify({ name, password }),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((res) => res.json())\n      .then((json) => handleLoginSuccess(json))\n      .catch((err) => handleLoginFailed(err));\n  };\n\n  // To sign up a user.\n  const handleLogin = (event) => {\n    event.preventDefault();\n\n    fetch(LOGIN_URL, {\n      method: \"POST\",\n      body: JSON.stringify({ name, password }),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((res) => res.json())\n      .then((json) => handleLoginSuccess(json))\n      .catch((err) => handleLoginFailed(err));\n  };\n\n\n      if (!accessToken) {\n        // If user is logged out, show login form\n        return (\n          <Main>\n\n\n            <Icon>\n              <TouchableOpacity onPress={() => navigation.navigate('HomePage')}>\n                <Ionicons name=\"arrow-back-circle-outline\" size={50} color=\"#D2D09D\" />\n              </TouchableOpacity>\n            </Icon>\n            <MainContainer>\n              <Container>\n                <LoginBox>\n                  <AppleIcon>\n                    <MaterialCommunityIcons name=\"food-apple-outline\" size={40} color=\"#BD614E\" />\n                  </AppleIcon>\n                  <LoginText>Logga in</LoginText>\n                </LoginBox>\n                <Form>\n                  <FormInput>\n                    <Ionicons name=\"person\" size={24} color=\"#BD614E\" />\n                    <Input\n                      required\n                      value={name}\n                      placeholder='namn'\n                      onChange={(event) => setName(event.target.value)}\n                    />\n                  </FormInput>\n                  <FormInput>\n                    <FontAwesome name=\"key\" size={24} color=\"#BD614E\" />\n                    <Input\n                      value={password}\n                      required\n                      placeholder='l√∂rsenord'\n                      onChange={(event) => setPassword(event.target.value)}\n                    />\n\n                  </FormInput>\n                  <FormInput>\n                    <FontAwesome name=\"key\" size={24} color=\"#BD614E\" />\n                    <Input>\n                        <AnimatedInput\n                        placeholder=\"Namn\"\n                        valid={isValid}\n                        errorText=\"Error\"\n                        onChangeText={text => setNames(text)}\n                        value={names}\n                        styleLabel={{fontWeight: '600'}}\n                        styleBodyContent={styles.bodyContent}\n                      />\n                      <AnimatedInput\n                        placeholder=\"PasswordL√∂se\"\n                        valid={isValid}\n                        errorText=\"Error\"\n                        onChangeText={text => setPass(text)}\n                        value={pass}\n                        styleLabel={{fontWeight: '600'}}\n                        styleBodyContent={styles.bodyContent}\n                      />\n                     </Input>\n                  </FormInput>\n                  <Buttons>\n                    <TouchableOpacity onPress={handleLogin} >\n                      <View style={styles.button}>\n\n                        <EvilIcons name=\"arrow-right\" size={80} color=\"#BD614E\" />\n\n\n                      </View>\n                    </TouchableOpacity>\n                  </Buttons>\n                  <LogIn />\n\n                  <Image source={Photo} style={styles.image} />\n                </Form>\n              </Container>\n            </MainContainer>\n          </Main>\n        );\n      } else {\n        // If user is logged in, show profile\n        return <Profile />;\n      }\n    };\n\n    const styles = StyleSheet.create({\n      image: {\n        marginTop: 100,\n        width: 400,\n        height: 150\n      }\n\n    });\n\n    const Main = styled.View`\nbackground-color: white;\nflex:1;\n`\n\n    const Icon = styled.View`\npadding-top: 50px;\nmargin-left: 20px;\n`\n    const MainContainer = styled.View`\njustify-content: center;\nflex:1;\n`\n\n    const Container = styled.View`\nmargin-left: 50px;\nmargin-right: 50px;\n`\n\n    const LoginBox = styled.View`\nflex-direction: row;\njustify-content:center;\nalign-items: center;\n`\n\n    const AppleIcon = styled.View`\nalign-items:center;\n`\n\n    const LoginText = styled.Text`\nfont-size: 30px;\ncolor:  #D2D09D; \n`\n    const Message = styled.View`\nborder: solid 1px red;\npadding: 10px;\n\n`\n\n    const Form = styled.View`\nalign-items: center;\nmargin-top: 30px;\n`\n\n    const Input = styled.TextInput`\nfont-size: 20px;\npadding-left: 20px;\n`\n\n\n    const FormInput = styled.View`\nflex-direction:row;\nborder:#D2D09D solid 1px;\nborder-radius: 50px;\npadding: 10px;\nwidth: 100%;\nmargin-bottom: 20px;\n\n`\n\n    const Buttons = styled.View`\nflex-direction: row;\nmargin-top: 20px;\n\n`\n\n\n\n\n    export default LoginForm;\n"]},"metadata":{},"sourceType":"module"}